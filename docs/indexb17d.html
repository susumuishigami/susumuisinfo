<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Android &#8211; susumuis Info</title>
	<atom:link href="https://susumuishigami.github.io/susumuisinfo/?feed=rss2&#038;cat=49" rel="self" type="application/rss+xml" />
	<link>https://susumuishigami.github.io/susumuisinfo</link>
	<description>Webエンジニア susumuis の技術ブログ</description>
	<lastBuildDate>Sun, 17 Jan 2016 09:50:49 +0000</lastBuildDate>
	<language>ja</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.4.3</generator>
	<item>
		<title>Javaのクラス・インターフェース入門 &#8211; メイドさんでも分かるプログラミングシリーズ vol.1</title>
		<link>https://susumuishigami.github.io/susumuisinfo/2015/class_interface</link>
					<comments>https://www.susumuis.info/2015/class_interface#respond</comments>
		
		<dc:creator><![CDATA[susumuis]]></dc:creator>
		<pubDate>Tue, 29 Dec 2015 12:56:25 +0000</pubDate>
				<category><![CDATA[Android]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[メイドさんでも分かるプログラミング]]></category>
		<guid isPermaLink="false">http://www.susumuis.info/?p=1693</guid>

					<description><![CDATA[プログラミングというのは、カンがいいと、言われたとおりに入力しているだけである程度のことができるようになります。しかし、そういうやり方では「ここはおまじない」「ここは決まり文句」という部分がどうしても多くなってしまいます [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>プログラミングというのは、カンがいいと、言われたとおりに入力しているだけである程度のことができるようになります。しかし、そういうやり方では「ここはおまじない」「ここは決まり文句」という部分がどうしても多くなってしまいます。</p>

<p><a href="http://kokucheese.com/main/host/%E6%97%A5%E6%9C%ACAndroid%E3%81%AE%E4%BC%9A%E7%A7%8B%E8%91%89%E5%8E%9F%E6%94%AF%E9%83%A8%E3%83%BB%E3%82%B3%E3%82%B9%E3%83%97%E3%83%AC%E7%90%86%E7%B3%BB%E5%A5%B3%E5%AD%90%E6%99%AE%E5%8F%8A%E9%83%A8/">ちょっと訳あって</a>、秋葉原のメイドさんにプログラミングを教えています。そのメイドさんたちはまさにそうで、彼女たちは既にAndroid Studioで画面レイアウトをいじり、画面遷移をするプログラムを書く能力はありますが、「おまじない」「決まり文句」の多さに困惑しているように思います。</p>

<p>そこで、今日から「メイドさんでも分かるプログラミング」シリーズを初め、プログラミングの基礎をやさしく説明していこうと思います。</p>

<p>読者のレベルとしては、PCを日常的に使いこなしていているが、プログラミングの専門教育を受けていないという想定です。</p>

<p>なお、あらかじめ、次の記事レベルのJavaの基礎知識は学習済みであることを前提とします。</p>

<p><a href="http://qiita.com/euc_/items/1c1ef42d62cdcbd23421">プログラム初心者に贈るJavaプログラミング - Qiita</a></p>

<p>では、早速初めます。</p>

<p>第1回は、クラスとインターフェースについてです。</p>

<h2>クラスってなに？</h2>

<p>Javaのプログラムを書くと、必ずこんな「おまじない」を書いてくださいと言われたと思います。</p>

<pre><code class="language-java">public class Hello {
    // ....(省略)
}
</code></pre>

<p>「パブリック」「クラス」と読みます。何でしょうこれは？</p>

<p>実はJavaのプログラムは「クラス」の集まりとして定義する「オブジェクト指向言語」なのです。</p>

<p>「オブジェクト指向」？？？</p>

<p>また新しい言葉が出てしまいました。</p>

<p>大丈夫です。これからゆっくり、説明します。</p>

<h2>オブジェクト指向とは</h2>

<p>「オブジェクト指向」とは、まじめに説明すると本が一冊書けてしまいます。<a href="https://www.dropbox.com/sh/sqgifcp3zaf8dwx/AADMlSj934XxgS6GDlxMSEN4a?dl=0">ここに知り合いが書いた本気な資料があります</a>ので、興味があったら読んでみてください。</p>

<p>ざっくり言うと、プログラムを「オブジェクト」という塊の集まりで作成します。「オブジェクト」とは「モノ」です。ここで、ちょっと日常世界を見てください。あらゆるモノがありますよね。</p>

<p>例えば、次の絵では、テーブルの上にコーヒーが淹れてあります。コーヒーはコーヒーカップに注がれていて、ソーサーの上に乗っています。スプーンも付いています。テーブルは木製ですね。金属の脚が付いています。「コーヒー」「カップ」「ソーサー」「スプーン」「テーブル」これらすべてがオブジェクトです。しかも「テーブル」は「木の板」「金属の脚」などの部品から構成されています。部品もオブジェクトです。</p>

<p><div id="attachment_1694" style="width: 785px" class="wp-caption alignnone"><a href="http://www.susumuis.info/wp-content/uploads/2015/12/95c466b606256006a832aab4b867672f.png"><img fetchpriority="high" decoding="async" aria-describedby="caption-attachment-1694" src="http://www.susumuis.info/wp-content/uploads/2015/12/95c466b606256006a832aab4b867672f.png" alt="このように日常世界はあらゆる「モノ」の集まりで構成されている" width="775" height="440" class="size-full wp-image-1694" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/95c466b606256006a832aab4b867672f.png 775w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/95c466b606256006a832aab4b867672f-300x170.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/95c466b606256006a832aab4b867672f-624x354.png 624w" sizes="(max-width: 775px) 100vw, 775px" /></a><p id="caption-attachment-1694" class="wp-caption-text">このように日常世界はあらゆる「モノ」の集まりで構成されている</p></div></p>

<p>オブジェクト指向では、このように、あらゆる物に注目していきます。そうすると、一つ一つの「モノ」はシンプルに表現することができます。「カップ」はコーヒーを注ぐことができればいい。「スプーン」はお砂糖を掬うことができれば良いといった機能に特化することができるからです。</p>

<p>なぜそんなことをするかというと、昨今のコンピュータプログラムはとても複雑だからです。もし、すべてを一つのプログラムで書いていたら、神様のようにもの凄く巨大な存在になってしまいます。人間に神を作ることはできません。オブジェクト指向プログラミングがあるお陰で、複雑なプログラムも部品の組み合わせとして簡単に作れるというわけです。</p>

<h2>クラスとインスタンス</h2>

<p>さて、オブジェクトは「クラス」と「インスタンス」に分かれます。クラスはオブジェクトの設計図、インスタンスは設計図から作られたオブジェクトの実体です。一つの設計図からたくさんの実体を作ることができます。</p>

<p>これは、たい焼きモデルで説明されることがあります。</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/6a68b6992bfe74e7e3bf7aa8d4a77b66.png"><img decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/6a68b6992bfe74e7e3bf7aa8d4a77b66.png" alt="たい焼きモデル" width="473" height="319" class="alignnone size-full wp-image-1695" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/6a68b6992bfe74e7e3bf7aa8d4a77b66.png 473w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/6a68b6992bfe74e7e3bf7aa8d4a77b66-300x202.png 300w" sizes="(max-width: 473px) 100vw, 473px" /></a></p>

<p>さて、Javaはこのうち「クラス」の部分をプログラミングして行きます。プログラムの初めに <code>public class</code> と書いているのはそのためです。</p>

<p>実際にプログラムが動く時には「インスタンス」の方が使われます。「クラス」から「インスタンス」を作るためには次のように書きます。</p>

<pre><code class="language-java">new クラス名();
</code></pre>

<p>作ったクラスは通常、次のように書いて「変数」に格納して使います。変数は覚えていますよね？</p>

<pre><code class="language-java">クラス名 変数名 = new クラス名();
</code></pre>

<p>あれ、クラス名を2度書いていますね？実は、左側のクラス名は正しくは「型名」と言います。変数には「型」がありました。例えばこんな型です。</p>

<table>
<thead>
<tr>
  <th>型</th>
  <th>意味</th>
</tr>
</thead>
<tbody>
<tr>
  <td>int</td>
  <td>整数</td>
</tr>
<tr>
  <td>long</td>
  <td>大きな整数</td>
</tr>
<tr>
  <td>double</td>
  <td>浮動小数点数</td>
</tr>
<tr>
  <td>boolean</td>
  <td>true or false</td>
</tr>
<tr>
  <td>Object</td>
  <td>オブジェクトインスタンスを格納</td>
</tr>
<tr>
  <td>クラス名</td>
  <td>そのクラスに属するオブジェクトインスタンスを格納</td>
</tr>
</tbody>
</table>

<p>オブジェクトインスタンスを格納する変数型としては「Object」という型が存在します。なので、次のように書いてもエラーにはなりません。</p>

<pre><code class="language-java">Object 変数名 = new クラス名();
</code></pre>

<p>しかし、通常「Object型」は使用しません。それはなぜでしょうか？変数の型は、プログラミング言語に「その変数は何ができるのか？」と教える印なのです。つまり、</p>

<pre><code class="language-java">Object 変数名 = new クラス名();
</code></pre>

<p>というプログラムは「その変数はモノです」と言ってるに過ぎないのです。</p>

<p>「モノ」であることは分かっています。でも「モノ」と言われても、何ができるのかわからないですよね。「自動車」も「鍋」も「コーヒー」も、「人間」さえも、「モノ」ですから。</p>

<p>そこで、変数名の左にクラス名を書くことで、それが「モノ」の中でも何なのかを教えてあげているのです。</p>

<pre><code class="language-java">自動車 mycar = new 自動車();
mycar.走れ(); // これはOK

Object mycar = new 自動車();
mycar.走れ(); // 「モノ」が「走る」とは限らないからエラー
</code></pre>

<h2>フィールドとメソッド</h2>

<p>モノの設計図であるクラスは次のようにプログラミングします。</p>

<pre><code class="language-java">class クラス名 {
    フィールド定義;
                :
                :

    メソッド定義
                :
                :
}
</code></pre>

<p>「フィールド」とは、クラスに属する変数のことです。Java以外の言語では「メンバー変数」ということもあります。そして「メソッド」はクラスに属する関数のことです。同様に「メンバー関数」と呼ぶこともあります。</p>

<p>ざっくり言うと、クラスの定義は「フィールド」と「メソッド」を定義するだけです。それでどうしてモノの設計図になるのでしょうか？</p>

<h2>状態と振る舞い</h2>

<p>モノの概念に立ち戻ってみると、モノは「状態」と「振る舞い」という概念を持ちます。</p>

<p>「状態」というのは、年齢とか、職業とか、モノそれぞれによって、あるいは同じモノでもその時々によって変化する情報です。</p>

<p>「振る舞い」というのは、モノの外側から見える動作です。</p>

<p>ティーカップを例にすると、次のような状態と振る舞いがあります。</p>

<ul>
<li>振る舞い<br />
<br />
<ul>
<li>液体を注ぐ</li>
<li>注いだ液体を飲む</li>
</ul></li>
<li>状態<br />
<br />
<ul>
<li>汚れの有無</li>
<li>ヒビの有無</li>
<li>今注がれているモノ</li>
</ul></li>
</ul>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/b9d2b89664df1263c98c80b382323712.png"><img decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/b9d2b89664df1263c98c80b382323712.png" alt="カップのユースケース図" width="676" height="447" class="alignnone size-full wp-image-1698" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/b9d2b89664df1263c98c80b382323712.png 676w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/b9d2b89664df1263c98c80b382323712-300x198.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/b9d2b89664df1263c98c80b382323712-624x413.png 624w" sizes="(max-width: 676px) 100vw, 676px" /></a></p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/2e8cc88b4d191d321155287093c2556c.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/2e8cc88b4d191d321155287093c2556c.png" alt="カップの状態" width="629" height="425" class="alignnone size-full wp-image-1699" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/2e8cc88b4d191d321155287093c2556c.png 629w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/2e8cc88b4d191d321155287093c2556c-300x203.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/2e8cc88b4d191d321155287093c2556c-624x422.png 624w" sizes="(max-width: 629px) 100vw, 629px" /></a></p>

<p>そして、Javaのフィールドは「状態」を、メソッドは「振る舞い」を表現しているのです。</p>

<h2>ねこ様をプログラミング</h2>

<p>それでは、ニャーと鳴くねこ様をプログラミングしてみましょう。</p>

<p>このねこ様は外部から見ると、こんな振る舞いをするようです。</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/7e2acf01b0ccc21cdd01efded0a13db7.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/7e2acf01b0ccc21cdd01efded0a13db7.png" alt="ねこ様ユースケース図" width="676" height="447" class="alignnone size-full wp-image-1697" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/7e2acf01b0ccc21cdd01efded0a13db7.png 676w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/7e2acf01b0ccc21cdd01efded0a13db7-300x198.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/7e2acf01b0ccc21cdd01efded0a13db7-624x413.png 624w" sizes="(max-width: 676px) 100vw, 676px" /></a></p>

<p>ここで、ねこ様は「鳴け」「寝ろ」「起きろ」なんていう人間の命令を聞かないとは思わないでください。コンピュータプログラミングというのは、日常世界全てを表現する必要はありません。今、自分が必要な範囲だけプログラミングすれば良いのです。</p>

<p>ねこ様の状態として「寝ている」という状態があるとします。このプログラムでは、寝ている時と、起きている時で鳴き方が違うということを表現します。</p>

<p>以下がプログラミング例です。</p>

<pre><code class="language-java">/** ねこ様 */
class Cat {
    /** 寝ているかどうか。true:寝ている, false:起きている */
    boolean slept;
    /** 鳴け */
    void mew() {
        if (slept)  {
            System.out.println("ふにゅあ")
        } else {
            System.out.println("にゃー")
        }        
    }
    /** 寝ろ */
    void goToSleep() {
        slept = true;
    }
    /** 起きろ */
    void wakeUp() {
        slept = false;
    }
}
</code></pre>

<p>早速、ねこ様クラスを使ってみましょう</p>

<pre><code class="language-java">Cat tama = new Cat();
tama.mew();
tama.goToSleep();
tama.mew();
tama.wakeUp();
tama.mew();
</code></pre>

<p>実行結果</p>

<pre><code class="language-java">ニャー
ふにゃあ
ニャー
</code></pre>

<p>※ 最初のmewは「ニャー」となっています。これは、sleptフィールドの初期値がfalseであることを意味しています。このようにフィールド変数は、初期値が決められています。</p>

<table>
<thead>
<tr>
  <th>型</th>
  <th>初期値</th>
</tr>
</thead>
<tbody>
<tr>
  <td>数値</td>
  <td>0</td>
</tr>
<tr>
  <td>boolean</td>
  <td>false</td>
</tr>
<tr>
  <td>オブジェクト</td>
  <td>null</td>
</tr>
</tbody>
</table>

<h2>アクセス修飾子</h2>

<p>よく見かけるpubicとか、privateとは何でしょうか？これは外部に公開するかどうかを指定する記述です。ざっくり言うと</p>

<table>
<thead>
<tr>
  <th>アクセス修飾子</th>
  <th>意味</th>
</tr>
</thead>
<tbody>
<tr>
  <td>private</td>
  <td>外部に非公開</td>
</tr>
<tr>
  <td>public</td>
  <td>外部に公開</td>
</tr>
</tbody>
</table>

<p>という風に分類されます。他にprotectedというのがありますが、後ほど説明します。</p>

<p>もし、さっきのねこ様クラスをprivate classとして作成してしまうと、別のプログラムから参照できなくなります。（実際は記述は許されません）</p>

<p>では、何でもpublicにしてしまえば便利かというと、世の中何でもかんでも中のことをオープンにしてしまうことは不都合だったりします（笑）</p>

<p>オブジェクト指向プログラミングでは、積極的に、外側から見て不要なものを隠蔽していきます。そのようなテクニックを「カプセル化」と呼びます。</p>

<p>常に当てはまるわけではありませんが、「メソッド」は公開し、「フィールド」は非公開するのがセオリーです。もし、フィールドの値を直接確認したい場合は、<code>getフィールド名()</code>、<code>setフィールド名()</code>という「メソッド」を作るのが作法とされます。こういったメソッドを「アクセッサー」と呼びます。</p>

<p>アクセッサーの例</p>

<pre><code class="language-java">public class Human {
    private String name;
    private int age;
    public void setName(String name) {
        this.name = name;
    }
    public void getName() {
        return name;
    }
    public void setAge(int age) {
        this.age = age;
    }
    public int getAge() {
        return age;
    }
}
</code></pre>

<p>メソッドもまた「非公開」にすることがあります。これは、外部からの振る舞いといよりも、プログラミングの都合上で共通部分を抜き出した場合などに、そのようにします。</p>

<pre><code class="language-java">/** 名前を教えると挨拶してくれるマシーン */
public class HelloMachiene {
    private String firstName;
    private String lastName;
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }
    public void setLastName(String lastName) {
        this.lastName = lastName;
    }
    // 姓と名をくっつけて使うことが多いので共通化
    private String getFullName() {
        return lastName + firstName;
    }
    public void sayHello() {
        System.out.println("こんにちは" + getFullName() + "さん");    
    }
    public void sayGoodBye() {
        System.out.println("さようなら" + getFullName() + "さん");    
    }
}
</code></pre>

<h2>コンストラクタ</h2>

<pre><code class="language-java">new クラス名()
</code></pre>

<p>と書いた時にプログラムを動かして、フィールドを初期化したいことが良くあります。このようなときに使うものとして「コンストラクタ」というものがあります。</p>

<p>コンストラクタはクラス内に次のように記述します。</p>

<pre><code class="language-java">public クラス名() {
    // 初期化プログラム
}
</code></pre>

<p>メソッドと似ていますが、返り値の型がありません。メソッドは</p>

<pre><code class="language-java">public 返り値の型 メソッド名() {
    // プログラム
}
</code></pre>

<p>でした。ところで、コンストラクタは、メソッドと同じようにパラメータを持つことが出来ます。上手く使うとプログラムを完結に書くことが出来ます。</p>

<pre><code class="language-java">public class Human {
    private String name;
    private int age;
    public Human(String name, int age) {
        this.name = name;
        this.age = age;    
    }
    public String toString() {
        return name + "(" + age + ")";
    }
}
</code></pre>

<p>使用例</p>

<pre><code class="language-java">Human satoshi = new Human("サトシ", 10);
Human okido = new Human("オーキド", 55);
System.out.println(satochi);
System.out.println(okido);
</code></pre>

<p>結果</p>

<pre><code class="language-java">サトシ(10)
オーキド(55)
</code></pre>

<p>※toStringという名前のメソッドを作って文字列が必要な場所で使用すると、toStringを省略してもtoStringが呼ばれます。これはJavaの仕様です。つまり</p>

<pre><code class="language-java">System.out.println(satochi.toString());
</code></pre>

<p>と書いても同じ結果になります。</p>

<h2>継承・多態性</h2>

<p>新しいことが次々に出てきて大変ですね！でも、もう少しでオブジェクト指向の一番大事なところを知ることが出来ます。大変ですが、どうか我慢してください。</p>

<p>クラスを作っていくと、同じようなクラスができてくることに気が付きます。そして、それらを束ねたいことがあります。その時に使用するのが「継承」というしくみです。</p>

<p>例えば、「ニャー」と鳴くねこ様のほかに「ワン」と鳴く犬クラス、「モー」と鳴く牛クラス、「ブヒー」と鳴くブタクラスを作ったとします</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/742d52b1ba81a8eb91eee0f8fb5e974c.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/742d52b1ba81a8eb91eee0f8fb5e974c.png" alt="鳴け！" width="899" height="593" class="alignnone size-full wp-image-1721" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/742d52b1ba81a8eb91eee0f8fb5e974c.png 899w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/742d52b1ba81a8eb91eee0f8fb5e974c-300x198.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/742d52b1ba81a8eb91eee0f8fb5e974c-624x412.png 624w" sizes="(max-width: 899px) 100vw, 899px" /></a></p>

<pre><code class="language-java">class Cat {
    public makeSounds() {
        System.out.println("ニャー");
    }
}
class Dog {
    public makeSounds() {
        System.out.println("ワン");
    }
}
class Cow {
    public makeSounds() {
        System.out.println("モー");
    }
}
class Pig {
    public makeSounds() {
        System.out.println("ブヒー");
    }
}
</code></pre>

<p>※英語とは面倒なもので、ねこはmew, 犬はbarkのように「鳴く」という動詞が異なるため、音を鳴らすというmakeSoundsで統一しました。</p>

<p>あるメソッドがあって、動物を鳴かせたいとします。しかし、ねこを鳴かせるメソッドを使って、犬を鳴かせることは出来ません。</p>

<pre><code class="language-java">void makeSounds(Cat cat) {
    cat.makeSounds();
}
</code></pre>

<pre><code class="language-java">Cat tama = new Cat();
Dog pochi = new Dog();
makeSounds(tama); // これはOK
makeSounds(dog); // これはダメ
</code></pre>

<p>これでは不便です。なぜなら、CatもDogも、makeSoundsというメソッドを持っているからです。</p>

<p>そこで、そこで、次の2つの考え方があります。</p>

<h3>考えた方1: 犬もねこも「鳴く」ことができる</h3>

<p>外部から見て、共通の振る舞いを持っているものは、「インターフェース」というしくみで束ねることが出来ます。</p>

<p>インターフェースは次のように定義します</p>

<pre><code class="language-java">interface インターフェース名 {
    返り値の型 メソッド名();
    返り値の型 メソッド名();
        :
        :
}
</code></pre>

<p>中身の無いメソッドの名前だけを並べて行くのです。</p>

<p>そして、<u>クラスを作るときにimplementsというキーワードでインターフェースを指定すると、そのクラスのインスタンスは、そのクラス型の変数の他に、そのインターフェース型の変数にも代入することが出来ます。</u></p>

<p>難しいのでアンダーラインを引きました。深呼吸して、この部分を5回読んでみてください。</p>

<p>あせらないで！ゆっくりで良いですよ！</p>

<p>5回読みましたか？</p>

<p>では、具体例を書きますね。</p>

<pre><code class="language-java">class Cat implements SoundsMaker {
    // ...
}
</code></pre>

<p>として定義したら、こんな書き方がOKになります。</p>

<pre><code class="language-java">SoundsMaker tama = new Cat();
</code></pre>

<p>そして、次のプログラミングコードが成立します。</p>

<pre><code class="language-java">interface SoundsMaker {
    void makeSounds();
}
class Cat implements SoundsMaker {
    public makeSounds() {
        System.out.println("ニャー");
    }
}
class Dog implements SoundsMaker {
    public makeSounds() {
        System.out.println("ワン");
    }
}
class Cow implements SoundsMaker {
    public makeSounds() {
        System.out.println("モー");
    }
}
class Pig implements SoundsMaker {
    public makeSounds() {
        System.out.println("ブヒー");
    }
}
</code></pre>

<pre><code class="language-java">public makeSounds(SoundsMaker soundsMaker) {
    soundsMaker.makeSounds();
}
</code></pre>

<pre><code class="language-java">Cat tama = new Cat();
Dog pochi = new Dog();
makeSounds(tama);
makeSounds(pochi);
</code></pre>

<p>実行結果</p>

<pre><code>ニャー
ワン
</code></pre>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/f4603aca48fdcd4644861ea24e921d19.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/f4603aca48fdcd4644861ea24e921d19.png" alt="インターフェース版鳴け！" width="740" height="471" class="alignnone size-full wp-image-1722" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/f4603aca48fdcd4644861ea24e921d19.png 740w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/f4603aca48fdcd4644861ea24e921d19-300x191.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/f4603aca48fdcd4644861ea24e921d19-624x397.png 624w" sizes="(max-width: 740px) 100vw, 740px" /></a></p>

<p>このテクニックを「インターフェース継承」あるいは「インターフェース抽出」と呼びます。</p>

<h3>考え方2:犬もねこも「動物」である</h3>

<p>犬も、ねこも、牛も「動物」という共通の概念を持っています。そういう共通の概念をスーパークラスと呼びます（親クラスとも呼びます）。反対は「サブクラス」（子クラス）です。</p>

<p>Javaではextendsというキーワードでスーパークラスを指定します。</p>

<pre><code class="language-java">class Animal {
    void makeSounds() {
        System.out.println("???");
    }
}
class Cat extends Animal {
    public makeSounds() {
        System.out.println("ニャー");
    }
}
class Dog extends Animal {
    public makeSounds() {
        System.out.println("ワン");
    }
}
</code></pre>

<p>インターフェースとの違いは、スーパークラスはあくまでクラスであるということです。</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/38e623c2a3009961f0e575bd35d98dcf.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/38e623c2a3009961f0e575bd35d98dcf.png" alt="継承版鳴け！" width="740" height="471" class="alignnone size-full wp-image-1723" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/38e623c2a3009961f0e575bd35d98dcf.png 740w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/38e623c2a3009961f0e575bd35d98dcf-300x191.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/38e623c2a3009961f0e575bd35d98dcf-624x397.png 624w" sizes="(max-width: 740px) 100vw, 740px" /></a></p>

<pre><code class="language-java">new Animal()
</code></pre>

<p>と書いてしまうことも出来ます（禁止することも出来ますが今は割愛します）。またフィールドを持ったり、メソッドのプログラムを記述することも出来ます。そのようにすることで、共通メソッドなどを作ることも出来ます。</p>

<p>このテクニックを「クラス継承」、または単に「継承」と呼ぶことがあります。</p>

<h2>どっちを使ったら良いの？</h2>

<p>もし、振る舞いを束ねたいだけ場合は、インターフェースを使用してください。でも、インターフェースはめんどくさいこともあります。特にたくさんのメソッドを束ねるときには向いていません。また実装を持つことが出来ないため、コピーペーストが増えてしまいます。</p>

<p>スーパークラスは、一つしか持つことが出来ません。つまり、安易にスーパークラスを使うと後で後悔することになります。</p>

<p>どんなときにクラス継承を使うか、インターフェースを使うかなどを指南するものの一つとして、「デザインパターン」というテクニック集が存在します。このシリーズの中でも紹介して行きたく思います。</p>

<h2>多態性（ポリモーフィズム）</h2>

<p>「多態性」とは聞き慣れないキーワードですね。しかし、これこそが、オブジェクト指向の真髄なのです。しかも、既にあなたはこのテクニックを使っています！</p>

<p>先程の例で、SoundsMakerインターフェースを使った例でも、Animalスーパークラスを使った例でも、どちらでも結構です。</p>

<p>あるところに</p>

<pre><code class="language-java">SoundsMaker m;
</code></pre>

<p>という変数がありました。そして、紆余曲折を経てmには何か値が代入されています。その後</p>

<pre><code class="language-java">m.makeSounds();
</code></pre>

<p>と書いてあったとします。実行結果は次のうちどれでしょうか？</p>

<ul>
<li>ニャー</li>
<li>ワン</li>
<li>ブヒー</li>
<li>モー</li>
<li>???</li>
</ul>

<p>正解は「わからない」です。</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/12/3cbbeac7df8a1bf50563145c14df13fa.png"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/12/3cbbeac7df8a1bf50563145c14df13fa.png" alt="インターフェース版鳴け！？" width="740" height="471" class="alignnone size-full wp-image-1725" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/3cbbeac7df8a1bf50563145c14df13fa.png 740w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/3cbbeac7df8a1bf50563145c14df13fa-300x191.png 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/12/3cbbeac7df8a1bf50563145c14df13fa-624x397.png 624w" sizes="(max-width: 740px) 100vw, 740px" /></a></p>

<p>引っかけでごめんなさい。そうなのです。その時点で、どのように動くのか、<u>実行してみないと分からないという柔軟なプログラミングが出来るのです。</u>これが出来ると、プログラミングが大変便利になります。</p>

<p>とにかく「鳴く」ことが出来るものを（実際にどんな鳴き声かは気にせず）一緒くたに全部束ねてプログラミングしておいて、後から「鳴く」何かを当てはめるというプログラミング手法が実際には非常によく行われます。</p>

<p>そうすれば、たったひとつのプログラムで何通りものプログラムが作れてしまうからです。</p>

<h2>インラインサブクラス</h2>

<p>ここまで読めたあなたはもうオブジェクト指向マスター一歩手前です。（おめでとうございます！パチパチ）</p>

<p>最後に、先ほどの多態性を超強力に使えるプログラミングテクニックを紹介します。</p>

<p>ここまでの復習でオブジェクトとは何かを振り返ってみましょう</p>

<ul>
<li>オブジェクトの設計図として、クラスを定義する</li>
<li>クラスはメソッドとフィールドを持つ</li>
<li>クラスはインターフェースまたは別のクラスを「継承」することができる</li>
<li>継承元のインターフェースやクラスを型とした変数には、「継承」先のサブクラスのインスタンスを代入することができる</li>
</ul>

<p>ここで「継承先のサブクラス」というのは、実は、いつでも作ることができます。いちいち、javaファイルを作って、名前を決めてextendsって書いたりせずに、欲しくなったらいきなり書いてしまうことが出来るのです。</p>

<p>先ほどの、SoundsMakerインターフェースを使った例を元に話を進めますね。</p>

<pre><code class="language-java">SoundsMaker s = new SoundsMaker() {
    public void makeSounds() {
        System.out.println("ぎゃああああああ");
    }
};
makeSounds(s);
</code></pre>

<p>実行結果</p>

<pre><code>きゃああああああ
</code></pre>

<p>こんな風にいきなりプログラムの途中に作られたクラスを、「インラインサブクラス」と呼びます。この技はインターフェースに対しても、スーパークラスに対しても使用可能です。</p>

<p>なぜこんなテクニックが必要かというと、名前を決めることが結構大変だからです。親になった気持ちになってください。その子の名前をいい加減に決められますか？その子の将来がかかっているので、他人から見て変じゃないかとか、縁起が良いかとか、あれこれ考えてようやく名前が決まります。</p>

<p>プログラミングしていて圧倒的に多くの時間を費やすのが「名前決め」です。ですから、一度しか使わないような子には、名前を与えずいきなり使ってしまえば良いのです。（笑）</p>

<h2>変数すら省略できる</h2>

<p>オブジェクトインスタンスは変数に格納すると書きました。しかし、その場で一回だけ使えば良いなら、なにも変数すらも使わなくても良いのです。</p>

<pre><code class="language-java">new Cat().makeSounds()
</code></pre>

<p>実行結果</p>

<pre><code>ニャー
</code></pre>

<p>これらの技を組み合わせると、こんなコードも書けてしまいます。</p>

<pre><code class="language-java">new SoundsMaker() {
    void makeSounds() {
        System.out.println("ぎょええ～～～")
    }
}.makeSounds();
</code></pre>

<p>分かりますか？「ぎょええ～～～」と鳴くモノを作って、その場で鳴かせているのです。</p>

<p>なぜこんなことを書いたかというと、次回以降で多用するからです。</p>
]]></content:encoded>
					
					<wfw:commentRss>https://www.susumuis.info/?feed=rss2&#038;p=1693</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>アキバのメイドさんにAndroidを教えてもらってきた＼(^o^)／</title>
		<link>https://susumuishigami.github.io/susumuisinfo/entry/2015/cosplay_android_33</link>
					<comments>https://www.susumuis.info/entry/2015/cosplay_android_33#comments</comments>
		
		<dc:creator><![CDATA[susumuis]]></dc:creator>
		<pubDate>Wed, 11 Feb 2015 16:06:12 +0000</pubDate>
				<category><![CDATA[Android]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[勉強会レポート]]></category>
		<guid isPermaLink="false">http://www.susumuis.info/?p=1232</guid>

					<description><![CDATA[建国記念日に、日本がハジマター＼(^o^)／ 2015年2月11日、とてもおもしろいイベントに参加してきたので紹介します！ 日本Androidの会秋葉原支部・コスプレ理系女子普及部 第33回定例会 会場は女中酒場幻橙館  [&#8230;]]]></description>
										<content:encoded><![CDATA[<h2>建国記念日に、日本がハジマター＼(^o^)／</h2>

<p>2015年2月11日、とてもおもしろいイベントに参加してきたので紹介します！</p>

<p><a href="http://kokucheese.com/event/index/256834/">日本Androidの会秋葉原支部・コスプレ理系女子普及部 第33回定例会</a></p>

<p>会場は<strong><a href="http://maidgentoukan.blog.fc2.com">女中酒場幻橙館</a></strong> 大正ロマンがコンセプトのお店です。</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_164050.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_164050-300x169.jpg" alt="IMG_20150211_164050" width="300" height="169" class="alignnone size-medium wp-image-1238" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_164050-300x169.jpg 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_164050-1024x576.jpg 1024w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_164050-624x351.jpg 624w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_164050.jpg 1920w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>

<p>店長の鈴峰桐さん、Androidの会秋葉原支部長の肩書を持たれているらしいです。カッコイイ</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_224137-e1423682179238.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_224137-e1423682179238-169x300.jpg" alt="IMG_20150211_224137" width="169" height="300" class="alignnone size-medium wp-image-1242" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_224137-e1423682179238-169x300.jpg 169w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_224137-e1423682179238.jpg 450w" sizes="(max-width: 169px) 100vw, 169px" /></a></p>

<p>今日で卒業されるメイドさんが2人のいて、会の途中では涙涙(ﾉД`)ｼｸｼｸ 手紙の読み上げなども、、、なんか濃い！</p>

<p><strong>でも、楽しい( ・∀・)!!</strong></p>

<h2>一般的な勉強会のイメージ</h2>

<p>勉強会といえば、怖いおにいさんが参加されていて、誰かが甘いことを言うと強烈に<strong>マサカリを投げてくる</strong>殺伐としたイメージがあります。</p>

<p>例えばこんなコード</p>

<pre><code class="language-java">i = i + 1;
</code></pre>

<p>いや、 i++; って書こうよ(*´Д`)</p>

<p>さらに</p>

<pre><code class="language-java">if (i == 7) { i = 0: }
</code></pre>

<p>(つд⊂)ｺﾞｼｺﾞｼ</p>

<pre><code class="language-java">i %= 7;
</code></pre>

<p>せめて、</p>

<pre><code class="language-java">if (i &gt;= 7) i = 0;
</code></pre>

<p>そうでないと、なんかの原因でiが同時に2回足されて8を超えたら永久に増え続けることが心配で心配で夜も（ｒｙ</p>

<h2>でもね、それで<strong>( ・∀・)ｲｲ!!</strong></h2>

<p>例えば参加者の声：<strong>「他の勉強会では、ついていけなかったけどここでは優しくてついていけました！」</strong></p>

<p>この日はプログラミング未経験の方、中学1年生の男の子も参加されていました。みんな初心者に優しい！（僕もAndroidは初心者です）<strong>一人でも遅れた人がいると、みんなで待ってくれる！</strong></p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_183412-e1423682245467.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_183412-e1423682245467-169x300.jpg" alt="IMG_20150211_183412" width="169" height="300" class="alignnone size-medium wp-image-1239" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_183412-e1423682245467-169x300.jpg 169w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_183412-e1423682245467.jpg 450w" sizes="(max-width: 169px) 100vw, 169px" /></a></p>

<p><strong>僕のMacがフリーズしちゃった時も、再起動するまで待っててくれた！</strong>(　；∀；)感動</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/02/WIN_20150212_004748.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/WIN_20150212_004748-225x300.jpg" alt="WIN_20150212_004748" width="225" height="300" class="alignnone size-medium wp-image-1235" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/WIN_20150212_004748-225x300.jpg 225w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/WIN_20150212_004748-768x1024.jpg 768w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/WIN_20150212_004748-624x832.jpg 624w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/WIN_20150212_004748.jpg 1920w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>

<p>最終的に、<strong>みんなプログラミングの課題を終わらせることができた！</strong><br />
もし、<code>&lt;=</code>とか<code>+=</code>とか<code>%</code>とか、使う演算子増えればそれだけ説明も増やさなきゃいけないし、そしたら終わった感動みんなで味わえなかったよね。</p>

<h2>プログラミングはもっと楽しく！もっとかわいく！</h2>

<p>配布資料のサンプルコードみてください！<strong>なんかｶﾜ(・∀・)ｲｲ!!</strong></p>

<p><img loading="lazy" decoding="async" src="https://pbs.twimg.com/media/B9i431BIQAAxu1M.png" width="599" height="448" class="alignnone" /></p>

<p>もちろん現場では難しいことを考えることも必要。だけど、そんな怖いプログラミング楽しいか？初めてホームページを作った時の楽しかった気持ちを忘れていないか！</p>

<h2>懇親会が楽しい！</h2>

<p>懇親会ではメイドさんとチェキもできて楽しい！料理も美味しかったです！</p>

<p><a href="http://www.susumuis.info/wp-content/uploads/2015/02/B9jxp0kIcAEiO-x-large.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/B9jxp0kIcAEiO-x-large-169x300.jpg" alt="B9jxp0kIcAEiO-x.jpg-large" width="169" height="300" class="alignnone size-medium wp-image-1233" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/B9jxp0kIcAEiO-x-large-169x300.jpg 169w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/B9jxp0kIcAEiO-x-large.jpg 576w" sizes="(max-width: 169px) 100vw, 169px" /></a>　<a href="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_221856-e1423682571551.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/IMG_20150211_221856-e1423682571551-169x300.jpg" alt="IMG_20150211_221856" width="169" height="300" class="alignnone size-medium wp-image-1240" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_221856-e1423682571551-169x300.jpg 169w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/IMG_20150211_221856-e1423682571551.jpg 450w" sizes="(max-width: 169px) 100vw, 169px" /></a>　<a href="http://www.susumuis.info/wp-content/uploads/2015/02/B9jyIKEIAAEwIRr-large.jpg"><img loading="lazy" decoding="async" src="http://www.susumuis.info/wp-content/uploads/2015/02/B9jyIKEIAAEwIRr-large-300x169.jpg" alt="B9jyIKEIAAEwIRr.jpg-large" width="300" height="169" class="alignnone size-medium wp-image-1234" srcset="https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/B9jyIKEIAAEwIRr-large-300x169.jpg 300w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/B9jyIKEIAAEwIRr-large.jpg 1024w, https://susumuishigami.github.io/susumuisinfo/wp-content/uploads/2015/02/B9jyIKEIAAEwIRr-large-624x351.jpg 624w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>

<p>楽しい建国記念日をありがとう！</p>

<h2>次回情報</h2>

<p>次回は3/29に開催されるようですよ！もちろん僕も参加します！</p>

<p>告知サイトはこちらです。<br />
→<a href="http://kokucheese.com/event/index/264903/">日本Androidの会秋葉原支部・コスプレ理系女子普及部 第34回定例会</a></p>
]]></content:encoded>
					
					<wfw:commentRss>https://www.susumuis.info/?feed=rss2&#038;p=1232</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
	</channel>
</rss>
