{"id":676,"date":"2010-11-15T00:00:00","date_gmt":"2010-11-14T15:00:00","guid":{"rendered":"http:\/\/blog.susumuis.info\/?p=676"},"modified":"2014-07-01T19:36:14","modified_gmt":"2014-07-01T10:36:14","slug":"javascript%e3%82%af%e3%83%a9%e3%82%a4%e3%82%a2%e3%83%b3%e3%83%88%e3%82%b5%e3%82%a4%e3%83%89%e3%83%86%e3%83%b3%e3%83%97%e3%83%ac%e3%83%bc%e3%83%88%e3%82%a8%e3%83%b3%e3%82%b8%e3%83%b3%ef%bc%88%e7%b6%9a","status":"publish","type":"post","link":"https:\/\/www.susumuis.info\/entry\/20101115\/p1","title":{"rendered":"JavaScript\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\uff08\u7d9a\u304d\uff09"},"content":{"rendered":"<p><a href=\"http:\/\/d.hatena.ne.jp\/s-ishigami\/20101113\/1289633005\">\u4e00\u6628\u65e5<\/a>\u306e\u7d9a\u304d\u3067\u3059\u3002<\/p>\n\n<p>\u305d\u306e\u5f8c\u4fee\u6b63\u3092\u52a0\u3048\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u516c\u958b\u3057\u307e\u3059\u3002<\/p>\n\n<p>\u3084\u3063\u305f\u3053\u3068\uff1a<\/p>\n\n<ol>\n<li>\u5916\u90e8JS\u5316\u3057\u307e\u3057\u305f\u3002<\/li>\n<li>data\u3092controller\u306b\u3057\u307e\u3057\u305f\u3002<\/li>\n<li>HTML\u30bf\u30b0\u306e\u51fa\u529b\u3068\u3001\u5c5e\u6027\u306e\u5909\u66f4\u3082\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002<\/li>\n<\/ol>\n\n<p>TeplateEngine.js (\u4eee\u306e\u30d5\u30a1\u30a4\u30eb\u540d)<\/p>\n\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink>TemplateEngine = <span class=\"synStatement\">new<\/span> <span class=\"synIdentifier\">function<\/span>() <span class=\"synIdentifier\">{<\/span>\n<span class=\"synIdentifier\">this<\/span>.currentNode;\n<span class=\"synIdentifier\">this<\/span>.writeText = <span class=\"synIdentifier\">function<\/span> (value) <span class=\"synIdentifier\">{<\/span> <span class=\"synStatement\">return<\/span> <span class=\"synStatement\">new<\/span> WriteText(value); <span class=\"synIdentifier\">}<\/span>;\n<span class=\"synIdentifier\">this<\/span>.writeHtml = <span class=\"synIdentifier\">function<\/span> (value) <span class=\"synIdentifier\">{<\/span> <span class=\"synStatement\">return<\/span> <span class=\"synStatement\">new<\/span> WriteHtml(value); <span class=\"synIdentifier\">}<\/span>;\n<span class=\"synIdentifier\">this<\/span>.setAttribute = <span class=\"synIdentifier\">function<\/span> (name, value) <span class=\"synIdentifier\">{<\/span> <span class=\"synStatement\">return<\/span> <span class=\"synStatement\">new<\/span> SetAttribute(name, value); <span class=\"synIdentifier\">}<\/span>;\n<span class=\"synIdentifier\">function<\/span> WriteText(value) <span class=\"synIdentifier\">{<\/span>\n<span class=\"synIdentifier\">this<\/span>.execute = execute;\n<span class=\"synIdentifier\">function<\/span> execute() <span class=\"synIdentifier\">{<\/span>\nTemplateEngine.currentNode.text(value);\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">function<\/span> WriteHtml(value) <span class=\"synIdentifier\">{<\/span>\n<span class=\"synIdentifier\">this<\/span>.execute = execute;\n<span class=\"synIdentifier\">function<\/span> execute() <span class=\"synIdentifier\">{<\/span>\nTemplateEngine.currentNode.html(value);\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">function<\/span> SetAttribute(name, value) <span class=\"synIdentifier\">{<\/span>\n<span class=\"synIdentifier\">this<\/span>.execute = execute;\n<span class=\"synIdentifier\">function<\/span> execute() <span class=\"synIdentifier\">{<\/span>\nTemplateEngine.currentNode.attr(name, value);\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\nTemplateEngineRunner = <span class=\"synStatement\">new<\/span> <span class=\"synIdentifier\">function<\/span>() <span class=\"synIdentifier\">{<\/span>\n<span class=\"synIdentifier\">this<\/span>.run = run;\n<span class=\"synIdentifier\">function<\/span> run(controller) <span class=\"synIdentifier\">{<\/span>\n<span class=\"synStatement\">for<\/span> (<span class=\"synIdentifier\">var<\/span> key <span class=\"synStatement\">in<\/span> controller) <span class=\"synIdentifier\">{<\/span>\nTemplateEngine.currentNode = $(<span class=\"synConstant\">'#'<\/span> + key);\ncontroller<span class=\"synIdentifier\">[<\/span>key<span class=\"synIdentifier\">]<\/span>.execute();\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\n<span class=\"synIdentifier\">}<\/span>\n<\/pre>\n\n<p>test.html<\/p>\n\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synComment\">&lt;!DOCTYPE html&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">html<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">lang<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;ja&quot;<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">head<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synPreProc\">   <\/span><span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">meta<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">charset<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;utf-8&quot;<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synPreProc\">   <\/span><span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">title<\/span><span class=\"synIdentifier\">&gt;<\/span>Template Engine Test<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">title<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synPreProc\">   <\/span><span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">meta<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">http-equiv<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;Content-Type&quot;<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">content<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;text\/html; charset=UTF-8&quot;<\/span><span class=\"synIdentifier\"> \/&gt;<\/span>\n<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">head<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">body<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">id<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;test&quot;<\/span><span class=\"synIdentifier\">&gt;&lt;\/<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">id<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;testHtml&quot;<\/span><span class=\"synIdentifier\">&gt;&lt;\/<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">id<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;attr&quot;<\/span><span class=\"synIdentifier\">&gt;<\/span>test<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">span<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">type<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;text\/javascript&quot;<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">src<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;http:\/\/www.google.com\/jsapi&quot;<\/span><span class=\"synIdentifier\">&gt;&lt;\/<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">type<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;text\/javascript&quot;<\/span><span class=\"synIdentifier\">&gt;<\/span><span class=\"synSpecial\">google.load<\/span>(<span class=\"synConstant\">&quot;jquery&quot;<\/span><span class=\"synSpecial\">, <\/span><span class=\"synConstant\">&quot;1.4.2&quot;<\/span>)<span class=\"synSpecial\">;<\/span><span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">type<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;text\/javascript&quot;<\/span><span class=\"synIdentifier\"> <\/span><span class=\"synType\">src<\/span><span class=\"synIdentifier\">=<\/span><span class=\"synConstant\">&quot;templateEngine.js&quot;<\/span><span class=\"synIdentifier\">&gt;&lt;\/<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synSpecial\">   <\/span><span class=\"synIdentifier\">var<\/span><span class=\"synSpecial\"> controller = <\/span><span class=\"synIdentifier\">{<\/span>\n<span class=\"synSpecial\">       test: TemplateEngine.writeText<\/span>(<span class=\"synConstant\">'hoge&lt;b&gt;aaa&lt;\/b&gt;'<\/span>)<span class=\"synSpecial\">,<\/span>\n<span class=\"synSpecial\">       testHtml: TemplateEngine.writeHtml<\/span>(<span class=\"synConstant\">'&lt;i&gt;aaa&lt;\/i&gt;'<\/span>)<span class=\"synSpecial\">,<\/span>\n<span class=\"synSpecial\">       attr: TemplateEngine.setAttribute<\/span>(<span class=\"synConstant\">'style'<\/span><span class=\"synSpecial\">, <\/span><span class=\"synConstant\">'font-weight: bold;'<\/span>)\n<span class=\"synSpecial\">   <\/span><span class=\"synIdentifier\">}<\/span>\n<span class=\"synSpecial\">   <\/span>\n<span class=\"synSpecial\">   TemplateEngineRunner.run<\/span>(<span class=\"synSpecial\">controller<\/span>)<span class=\"synSpecial\">;<\/span>\n<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">script<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">body<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<span class=\"synIdentifier\">&lt;\/<\/span><span class=\"synStatement\">html<\/span><span class=\"synIdentifier\">&gt;<\/span>\n<\/pre>\n\n<p>\u8a66\u3057\u3066\u307f\u308b\u3068\u3001Google AJAX API\u3092\u4f7f\u3063\u305f\u305f\u3081\u304b\u3001JS\u3092\u30ed\u30fc\u30c9\u3057\u3066\u7f6e\u63db\u3092\u59cb\u3081\u308b\u307e\u3067\u5f85\u3061\u6642\u9593\u304c\u3061\u3087\u3063\u3068\u3042\u308a\u307e\u3059\u306d\u3002dummy\u3068\u3044\u3063\u305f\u6587\u5b57\u5217\u3092\u51fa\u3059\u306e\u306f\u3042\u307e\u308a\u3088\u304f\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u3001\u666e\u901a\u306b\u7a7a\u6b04\u306b\u3057\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\u672c\u5f53\u306f\u3001\u3053\u306e\u7a0b\u5ea6\u306e\u3053\u3068\u306a\u3089jQuery\u3082\u3044\u3089\u306a\u3044\u3093\u3067\u3059\u3088\u306d\u3002<\/p>\n\n<p><a href=\"http:\/\/d.hatena.ne.jp\/s-ishigami\/20101117\">\u7d9a\u304f<\/a><\/p>\n<p style=\"margin-top: 0px; margin-bottom: 32px;>\n<script async src=\"\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\n<ins class=\"adsbygoogle\"\n     style=\"display:inline-block;width:336px;height:280px\"\n     data-ad-client=\"ca-pub-4600091038664361\"\n     data-ad-slot=\"6658249733\"><\/ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n<\/script>\n<\/p>","protected":false},"excerpt":{"rendered":"<p>\u4e00\u6628\u65e5\u306e\u7d9a\u304d\u3067\u3059\u3002 \u305d\u306e\u5f8c\u4fee\u6b63\u3092\u52a0\u3048\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u516c\u958b\u3057\u307e\u3059\u3002 \u3084\u3063\u305f\u3053\u3068\uff1a \u5916\u90e8JS\u5316\u3057\u307e\u3057\u305f\u3002 data\u3092controller\u306b\u3057\u307e\u3057\u305f\u3002 HTML\u30bf\u30b0\u306e\u51fa\u529b\u3068\u3001\u5c5e\u6027\u306e\u5909\u66f4\u3082\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002 TeplateEngi [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[40],"tags":[],"_links":{"self":[{"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/posts\/676"}],"collection":[{"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=676"}],"version-history":[{"count":2,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/posts\/676\/revisions"}],"predecessor-version":[{"id":1041,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=\/wp\/v2\/posts\/676\/revisions\/1041"}],"wp:attachment":[{"href":"https:\/\/www.susumuis.info\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=676"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=676"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.susumuis.info\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=676"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}